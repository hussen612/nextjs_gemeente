{
  "repository": "hussen612/nextjs_gemeente",
  "project_name": "Gemeente Meldpunt Features",
  "default_due_date": "2025-12-31",
  "issues": [
    {
      "title": "User Authentication & Authorization System",
      "body": "## Feature Overview\nThis issue documents the user authentication and authorization system implemented in the Gemeente Meldpunt application.\n\n## Description\nThe application uses Clerk for user authentication, providing secure sign-in/sign-up functionality for citizens reporting issues.\n\n## Implementation Details\n- **Technology**: Clerk authentication service\n- **Location**: \n  - `my-app/src/app/providers.tsx` - ClerkProvider wrapper\n  - `my-app/src/middleware.ts` - Route protection\n  - Integration across all pages using SignedIn/SignedOut components\n\n## Features\n- User sign-in and sign-up\n- Session management\n- Protected routes for authenticated users\n- User context available throughout the application\n- Integration with Convex backend for user identity\n\n## Files Involved\n- `my-app/src/app/providers.tsx`\n- `my-app/src/middleware.ts`\n- `convex/auth.config.js`\n\n## Related Features\n- Links to user dashboard access control\n- Required for alert submission\n- Foundation for admin authorization\n\n## Status\n✅ Implemented and functional\n\n## Due Date\n2025-12-31",
      "labels": ["feature", "authentication"]
    },
    {
      "title": "Alert/Issue Submission Feature",
      "body": "## Feature Overview\nCitizens can submit alerts/reports about issues in Rotterdam through an interactive form with map integration.\n\n## Description\nUsers can report various types of issues (broken street lamps, vandalism, garbage, road damage, etc.) with detailed descriptions, photos, and precise location data.\n\n## Implementation Details\n- **Location**: `my-app/src/app/submit-alert/page.tsx`\n- **Backend**: `convex/alerts.ts` - createAlert mutation\n\n## Features\n### Alert Types Supported\n- Beschadigde Weg (Damaged Road)\n- Overmatige Afval (Excessive Waste)\n- Graffiti\n- Putdeksel (Manhole Cover)\n- Straatlantaarn Storing (Street Lamp Malfunction)\n- Stoplicht Storing (Traffic Light Malfunction)\n- Vandalisme (Vandalism)\n- Verkeersbord Beschadiging (Traffic Sign Damage)\n- Boomschade (Tree Damage)\n- Illegale Dump (Illegal Dumping)\n- Water Lek (Water Leak)\n- Geluidsoverlast (Noise Nuisance)\n- Publieke Veiligheidsrisico (Public Safety Risk)\n- Overig (Other)\n\n### Form Components\n- Alert type dropdown selection\n- Text description field (required)\n- Location input with Google Maps autocomplete\n- Interactive map for precise location selection\n- Draggable marker for fine-tuning location\n- Device location detection (\"Use my current location\" button)\n- Image upload (up to 5 photos, max 5MB each)\n- Image preview with removal option\n\n## Technical Implementation\n- Google Maps API integration for location selection\n- Reverse geocoding for address lookup\n- Coordinates stored as lat/lng pairs\n- Real-time validation and error handling\n- Responsive form design\n\n## Data Stored\n- Alert type\n- Description\n- Location (address string)\n- Coordinates (latitude, longitude)\n- User ID (from Clerk)\n- Timestamp\n- Status (automatically set to \"open\")\n- Images array (storage IDs)\n\n## Status\n✅ Implemented and functional\n\n## Due Date\n2025-12-31",
      "labels": ["feature", "core-functionality"]
    },
    {
      "title": "User Dashboard - Personal Alert Management",
      "body": "## Feature Overview\nAuthenticated users can view their submitted alerts on a personalized dashboard with map visualization.\n\n## Description\nThe dashboard provides users with an overview of their reported issues, displayed on an interactive map showing all active alerts in the system.\n\n## Implementation Details\n- **Location**: `my-app/src/app/dashboard/page.tsx`\n- **Component**: `my-app/src/components/UserMap.jsx`\n- **Backend**: `convex/alerts.ts` - getMyAlerts query\n\n## Features\n- Map view of user's submitted alerts\n- Quick access to submit new alerts (button link)\n- Alerts filtered by authenticated user\n- Visual representation of alert locations\n- Footer with contact information\n\n## User Experience\n- Clean, intuitive interface\n- Direct link to alert submission page\n- Integration with authentication (SignedIn wrapper)\n- Map-centric design for spatial awareness\n\n## Technical Details\n- Uses `useQuery` to fetch user-specific alerts\n- Filtered by userId on backend\n- Google Maps integration for visualization\n- Real-time updates when new alerts are submitted\n\n## Status\n✅ Implemented and functional\n\n## Due Date\n2025-12-31",
      "labels": ["feature", "ui"]
    },
    {
      "title": "Admin Dashboard & Management System",
      "body": "## Feature Overview\nComprehensive admin panel for managing all alerts, updating statuses, adding notes, and managing administrator access.\n\n## Description\nAuthorized administrators can view, manage, and update all alerts submitted by citizens. The dashboard includes advanced filtering, search, and bulk management capabilities.\n\n## Implementation Details\n- **Location**: `my-app/src/app/admin-dashboard/page.tsx`\n- **Backend**: `convex/admin.ts` - Admin authorization, `convex/alerts.ts` - Alert management mutations\n\n## Key Features\n\n### Alert Management\n- View all submitted alerts in a table format\n- Update alert status (Open → In Progress → Resolved)\n- Add internal notes to alerts\n- View detailed information per alert\n- Click map markers to view alert details\n\n### Search & Filter\n- Real-time search by type, description, or location\n- Filter by status (All, Open, In Progress, Resolved)\n- Combined search and filter functionality\n- Clear filters button\n\n### Admin Management\n- Add administrators by email address\n- Remove administrator access\n- Email validation before adding\n- User existence verification\n\n## Authorization\nDual authorization model: Clerk Roles + Database Table\n\n## Status\n✅ Implemented and functional\n\n## Due Date\n2025-12-31",
      "labels": ["feature", "admin", "core-functionality"]
    },
    {
      "title": "Map Integration & Visualization with Google Maps",
      "body": "## Feature Overview\nGoogle Maps integration throughout the application for location selection, visualization, and alert display.\n\n## Description\nThe application uses Google Maps API to provide interactive mapping features for both alert submission and viewing.\n\n## Implementation Details\n- **Technology**: `@react-google-maps/api` package\n- **Components**: `my-app/src/components/MapWithAlerts.jsx`, `my-app/src/components/UserMap.jsx`\n- **API Key**: `NEXT_PUBLIC_GOOGLE_MAPS_API_KEY`\n\n## Features\n\n### Location Selection (Submit Alert)\n- Interactive map for clicking to place markers\n- Google Places Autocomplete for address search\n- Draggable markers for precise positioning\n- Real-time geocoding (address ↔ coordinates)\n- Device location detection\n\n### Alert Visualization\n- Display all active alerts as map markers\n- Clickable markers for alert details\n- Zoom controls and map navigation\n- Fallback center coordinates (Rotterdam: 51.9244, 4.4777)\n\n## Integration Points\n- Home Page, Submit Alert, Dashboard, Admin Dashboard, Alert Details\n\n## Status\n✅ Implemented and functional\n\n## Due Date\n2025-12-31",
      "labels": ["feature", "maps", "integration"]
    },
    {
      "title": "Image Upload & Storage System",
      "body": "## Feature Overview\nCitizens can attach photos to alert submissions, with secure upload and storage using Convex file storage.\n\n## Description\nUsers can upload up to 5 photos per alert to provide visual evidence of reported issues.\n\n## Implementation Details\n- **Backend**: `convex/files.ts`\n- **Frontend**: `my-app/src/app/submit-alert/page.tsx`\n- **Storage**: Convex `_storage` table\n\n## Features\n\n### Upload Interface\n- File input for multiple image selection\n- Image preview thumbnails\n- Remove button for each preview\n- Real-time validation\n\n### Validation Rules\n- **Maximum files**: 5 images per alert\n- **Maximum size**: 5MB per image\n- **Allowed types**: JPG, PNG, GIF (image/*)\n\n### Upload Process\n1. User selects images from device\n2. Client validates file type and size\n3. Preview generated\n4. On submit: Request upload URL, Upload images, Store IDs\n\n## Security\n- Authentication required for upload\n- Admin authorization for bulk image retrieval\n- Storage IDs are not guessable\n\n## Status\n✅ Implemented and functional\n\n## Due Date\n2025-12-31",
      "labels": ["feature", "storage"]
    },
    {
      "title": "Alert Status Management Workflow",
      "body": "## Feature Overview\nStructured workflow for tracking the lifecycle of reported alerts from submission to resolution.\n\n## Description\nAlerts progress through defined status states, allowing administrators to track and communicate the handling of citizen reports.\n\n## Status Values\n\n### 1. Open (Initial)\n- Set automatically when alert is submitted\n- New alert awaiting review\n\n### 2. In Progress (in_progress)\n- Set manually by administrator\n- Alert is being actively addressed\n\n### 3. Resolved\n- Set manually by administrator\n- Issue has been fixed/addressed\n\n## Implementation Details\n- **Location**: `convex/alerts.ts` - updateAlertStatus mutation\n- **Schema**: `convex/schema.ts` - status field (string)\n- **Admin UI**: `my-app/src/app/admin-dashboard/page.tsx`\n\n## Features\n- Admin-only modification\n- Dropdown selection in admin dashboard\n- Immediate database update\n- Real-time reflection across all views\n\n## Status\n✅ Implemented and functional\n\n## Due Date\n2025-12-31",
      "labels": ["feature", "workflow"]
    },
    {
      "title": "Admin Access Control & Management System",
      "body": "## Feature Overview\nEmail-based administrator management system allowing secure control over who can access admin features.\n\n## Description\nThe application provides a dual authorization model for administrators.\n\n## Implementation Details\n- **Backend**: `convex/admin.ts`\n- **Schema**: `convex/schema.ts` - admins table\n- **Bootstrap**: `my-app/src/app/admin-bootstrap/page.tsx`\n\n## Authorization Methods\n\n### Method 1: Clerk Organization Role\n- Admin role set in Clerk dashboard\n- Organization-level permissions\n\n### Method 2: Database Admin List\n- Email-based whitelist in Convex\n- Managed within application\n- Can be bootstrapped without existing admins\n\n## Features\n- Add/Remove admins by email\n- Email validation and user verification\n- List all administrators\n- Bootstrap process for first admin\n\n## Security Features\n- Email validation before adding\n- User existence verification\n- Only admins can modify admin list\n- Dual authorization prevents lockout\n\n## Status\n✅ Implemented and functional\n\n## Due Date\n2025-12-31",
      "labels": ["feature", "admin", "security"]
    },
    {
      "title": "Alert Details View & Individual Alert Pages",
      "body": "## Feature Overview\nDetailed view pages for individual alerts with complete information, maps, photos, and admin notes.\n\n## Description\nEach alert has a dedicated detail page accessible via unique URL.\n\n## Implementation Details\n- **Location**: `my-app/src/app/alerts/[id]/page.tsx`\n- **Backend**: `convex/alerts.ts` - getAlertById query\n- **Route**: `/alerts/[alertId]`\n\n## Features\n\n### Public Information\n- Alert Type, Description, Location\n- Coordinates, Timestamp, Status\n\n### Map Display\n- Google Maps embed at alert location\n- Zoom level: 15 (detailed view)\n\n### Photo Gallery\n- Grid layout for multiple images\n- Lightbox modal for full-size viewing\n\n### Admin-Only Features\n- Notes Section visible only to administrators\n- Chronological display\n- Author and timestamp\n\n## User Experience\n- Back link to dashboard\n- Deep linking support\n- Responsive design\n- Loading and error states\n\n## Status\n✅ Implemented and functional\n\n## Due Date\n2025-12-31",
      "labels": ["feature", "ui"]
    },
    {
      "title": "Search & Filter Functionality for Admin Dashboard",
      "body": "## Feature Overview\nPowerful search and filter capabilities in the admin dashboard.\n\n## Description\nAdministrators can quickly find specific alerts using real-time search and status filtering.\n\n## Implementation Details\n- **Location**: `my-app/src/app/admin-dashboard/page.tsx`\n- **Implementation**: Client-side filtering with React state\n\n## Search Features\n- Searches across: Type, Description, Location\n- Real-time filtering\n- Case-insensitive matching\n- Partial matching\n\n## Filter Features\n- Status Filter: Alle (All), Open, In behandeling, Opgelost\n- Independent of search (can combine)\n- Immediate application\n\n## Combined Functionality\n- Apply both simultaneously\n- Clear filters button\n- Efficient client-side processing\n\n## User Interface\n- Search input with instant feedback\n- Status dropdown\n- Results count display\n- Context-aware messaging\n\n## Future Enhancements\n- Date range filtering\n- Multiple status selection\n- Save filter presets\n- Export filtered results\n\n## Status\n✅ Implemented and functional\n\n## Due Date\n2025-12-31",
      "labels": ["feature", "admin", "ui"]
    }
  ]
}
